<!doctype html>

<!-- ASSIGN OUR ANGULAR MODULE -->
<html ng-app="toDoJS">
  <head>
      <!-- META -->
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Optimize mobile viewport -->

      <title>Node/Angular Todo App</title>

      <!-- SCROLLS -->
      <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css"><!-- load bootstrap -->

      <!-- SPELLS -->
      <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script><!-- load jquery -->
      <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.4/angular.min.js"></script><!-- load angular -->
      <script src="js/controllers/main.js"></script> <!-- load up our controller -->
      <script src="js/services/todos.js"></script> <!-- load our todo service -->
      <script src="js/core.js"></script> <!-- load our main application -->

  </head>
  <!-- SET THE CONTROLLER AND GET ALL TODOS -->
  <body ng-controller="mainController">
      <div class="container">

          <!-- HEADER AND TODO COUNT -->
          <div class="jumbotron text-center">
              <h1>MEANTeam's Vietnam <span class="label label-info">{{ todos.length }}</span></h1>
          </div>

          <!-- TODO LIST -->
          <div id="todo-list" class="row">
            <table class="table table-striped">
              <tr>
                <th>Done</th>
                <th>Status</th>
                <th>Task</th>
                <th>Actions</th>
              </tr>
              <tr ng-repeat="todo in todos">
                <td>
                  <input type="checkbox" ng-checked="todo.done" ng-click="changedoneTodo(todo._id)">
                </td>
                <td>
                  <span>{{ todo.done }}</span>
                </td>
                <td>
                  <span>{{ todo.text }}</span>
                </td>
                <td>
                  <a href="#" class="btn btn-danger" role="button" ng-click="deleteTodo(todo._id)">Delete</a>
                </td>
              </tr>
            </table>
          </div>

          <!-- FORM TO CREATE TODOS -->
          <div id="todo-form" class="row">
              <div class="col-sm-8 col-sm-offset-2 text-center">
                  <form>
                      <div class="form-group">

                          <!-- BIND THIS VALUE TO formData.text IN ANGULAR -->
                          <input id="todo-text-input" type="text" class="form-control input-lg text-center" placeholder="You weren't there man" ng-model="formData.text">
                      </div>

                      <!-- createToDo() WILL CREATE NEW TODOS -->
                      <button type="submit" class="btn btn-primary btn-lg" ng-click="createTodo()">Add</button>
                  </form>
              </div>
          </div>

      </div>

  </body>
</html>
